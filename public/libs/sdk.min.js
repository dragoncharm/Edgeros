(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{impactHeavy:()=>ee,impactLight:()=>te,impactMedium:()=>Z,impactTick:()=>oe,vibrate:()=>re});const o=globalThis.__edger__,r=(e="Not Support")=>Promise.reject({message:e,status:"error"}),n=e=>e?e.then((t=>(console.log(e,t),"error"===t?.result?.status?r(t.result.message||"Error"):t?.payload))):r(),s={play:function(e){try{if(e.speed||(e.speed=1),void 0!==e.headless&&null!==e.headless||(e.headless=!1),!1===[.5,1,1.5,2].includes(e.speed))return Promise.reject(new Error("speed 参数错误"));if(e.mode||(e.mode="repeat_mode_all"),!["repeat_mode_one","repeat_mode_all","repeat_mode_random"].includes(e.mode))return Promise.reject(new Error("mode 参数错误"));if(!e.files.length)return Promise.reject(new Error("files 列表不能为空"));for(const t of e.files){if(!t.url)return Promise.reject(new Error("files 列表中 url 不能为空"));if(!t.name)return Promise.reject(new Error("files 列表中 name 不能为空"))}return n(o?.audio?.play?.(e))}catch(e){return Promise.reject(e)}},pause:function(){return n(o?.audio?.pause?.())},resume:function(){return n(o?.audio?.resume?.())},destroy:function(){return n(o?.audio?.destroy?.())},setSpeed:function(e){return n(o?.audio?.setSpeed?.(e))},setMode:function(e){return n(o?.audio?.setMode?.(e))},previous:function(){return n(o?.audio?.previous?.())},next:function(){return n(o?.audio?.next?.())},setPosition:function(e,t){return n(o?.audio?.setPosition?.(e,t))},append:function(e){return n(o?.audio?.append?.(e))},addEventListener:(e,t)=>{o?.job?.addEventListener?o.job?.addEventListener(e,t):console.error("audio addEventListener not supported.")},removeEventListener:(e,t)=>{o?.job?.removeEventListener?o.job?.removeEventListener(e,t):console.error("audio removeEventListener not supported.")},removeAllListeners:e=>{o?.job?.removeAllListeners?o.job?.removeAllListeners(e):console.error("audio removeAllListeners not supported.")}};var i,a;(a=i||(i={}))[a.onlyTop=1]="onlyTop",a[a.preferTop=2]="preferTop",a[a.desktop=3]="desktop";const l={active:[],deactive:[],login:[],logout:[],pay:[],orientation:[],network:[],swipe:[],token:[],permission:[],wallpaper:[],theme:[],language:[],safeArea:[],download:[],verify:[],keyboardHeight:[],event_job_start:[],event_job_pause:[],event_job_resume:[],event_job_cancel:[],event_job_done:[],event_job_error:[],event_job_progress:[],event_job_timeout:[],event_album_change:[],event_media_player_change:[],event_media_player_delete:[],event_media_player_export:[],event_service_pause:[],event_service_resume:[],event_service_status:[],event_service_delete:[],status:[],pause:[],resume:[],delete:[],change:[],close:[],select:[],start:[],cancel:[],retry:[],done:[],error:[],progress:[]};window.addEventListener("message",(e=>{const t=e.data.cmd;l[t]&&(l[t].forEach(((t,o)=>{if("function"==typeof t)if(t.__edger_uid__){const o=e.data.uid;t.__edger_uid__===o&&(t(e.data.payload,e.data.error),t.__edger_done__=!0)}else t(e.data.payload,e.data.error)})),l[t]=l[t].filter((e=>!0!==e.__edger_done__)))}));const d=(e,t)=>{const o=e;l[o]?l[o].push(t):l[o]=[t]},p=(e,t=i.preferTop)=>{t===i.preferTop?window.parent===window.parent.parent?(console.warn("No app shell, downgrade to desktop",e),window.parent.postMessage({...e},"*")):window.parent.parent.postMessage({...e},"*"):t===i.onlyTop?window.parent===window.parent.parent?console.warn("No app shell, ignore message",e):window.parent.parent.postMessage({...e},"*"):window.parent.postMessage({...e},"*")};let u=0;const m=(e,t,o={timeout:5e3,ignoreResponse:!0,deliverStrategy:i.preferTop,disableTimeout:!1},r="")=>{if(!e)throw new Error("Illegal cmd");const{timeout:n=1e3,ignoreResponse:s=!0,deliverStrategy:a,disableTimeout:l=!1}=o;return new Promise(((o,n)=>{if(s)p({cmd:e,payload:t,ts:Date.now()},a),o(void 0);else{const s=`${Math.random()}-${Date.now()}-${u++}`,i=function(e,t){t?(console.error("error",t),n({error:t})):o(e)};i.__edger_uid__=s,d(e,i),p({cmd:e,payload:t,uid:s,ts:Date.now(),scope:r},a)}}))},c=(e,t)=>{const o=l[e];o?(o.push(t),m("__edgeros_register_event__",{action:e},{deliverStrategy:i.desktop,ignoreResponse:!0})):console.warn(`The action you specified is unknown: ${e}`)},v=(e,t)=>{o?.system?.addEventListener?o.system?.addEventListener(e,t):console.error("mobile addEventListener not supported.")},g={qrscan:()=>m("qrscan",{},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:3e5,disableTimeout:!0}),contacts:()=>m("contacts",{},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:5e4}),getVolume:()=>n(o?.system?.getVolume?.()),onAction:v,addEventListener:v,removeEventListener:(e,t)=>{o?.system?.removeEventListener?o.system?.removeEventListener(e,t):console.error("mobile removeEventListener not supported.")},removeAllListeners:e=>{o?.system?.removeAllListeners?o.system?.removeAllListeners(e):console.error("mobile removeAllListeners not supported.")}},h={register:e=>n(o?.permissionTexts?.register?.(e)),unregister:e=>n(o?.permissionTexts?.unregister?.(e)),query:()=>n(o?.permissionTexts?.query?.())},y={height:0,activeElement:{el:null,originToBottomHeight:0}},f=["outApp","logout","desktop","route"];let b=[],L=-1;function E(){b=[],L=-1}const _=(e,t)=>e.mark&&t.mark?JSON.stringify(e)===JSON.stringify(t):JSON.stringify({...e,mark:""})===JSON.stringify({...t,mark:""});let w=!0;const S={init:function(){window._routerInitialized||(window._routerInitialized=Symbol(),E(),f.forEach((e=>{const t={...history.state,mark:e};!function(e){let t=e.current;location.hash&&"#"===location.hash[0]&&(t="#"+t),history.pushState(e,"",t)}(t),b.push(t),L++})),function(){const e=e=>{const t=history[e];return function(o,r,n){t.call(history,o,r,n);const s=new Event(e);window.dispatchEvent(s)}};history.pushState=e("pushState"),history.replaceState=e("replaceState"),window.addEventListener("pushState",(()=>{w&&(b=b.slice(0,L+1),b.push(history.state),L++)})),window.addEventListener("replaceState",(()=>{w&&b.splice(L,1,history.state)})),window.addEventListener("popstate",(()=>{w&&function(){if("desktop"===history.state.mark)return L=2,void history.go(1);if("logout"===history.state.mark)return L=1,void history.go(2);if("outApp"===history.state.mark)return L=0,void history.go(3);let e=-1;for(let t=L-1;t>0&&-1===e;t--)_(b[t],history.state)&&(e=t);for(let t=L+1;t<b.length&&-1===e;t++)_(b[t],history.state)&&(e=t);L=e,-1===L&&history.go(1)}()}))}(),"edgerapp"!==window?.__edger_env__?.env&&window.addEventListener("message",(e=>{const{cmd:t}=e.data;"active"===t?(w=!0,function(){const e=[...b],t=L;E();for(let t=0;t<e.length;t++)history.pushState(e[t],"",e[t].current);const o=t-e.length+1;o&&history.go(o)}()):"deactive"===t&&(w=!1)})))},direction:function(e){return history.state.current?.split("?")[0]===e?"forward":history.state.forward?.split("?")[0]===e?"backward":(history.state.back?.split("?")[0],"forward")},historyDepth:function(e){const t=b.findIndex((t=>t.current===e));return t<0?(console.warn("not find current route"),0):t>L?0:L-t},historyLength:function(){return L>3?L-3:0}},A=["top","left","right","bottom"],T={};let k,x,j;function P(){return x="CSS"in window&&"function"==typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",x}function C(){if(x="string"==typeof x?x:P(),!x)return void A.forEach((e=>{T[e]=0}));function e(e,t){const o=e.style;Object.keys(t).forEach((e=>{const r=t[e];o[e]=r}))}const t=[];function o(e){e?t.push(e):t.forEach((e=>{e()}))}let r=!1;try{const e=Object.defineProperty({},"passive",{get:function(){r={passive:!0}}});window.addEventListener("test",null,e)}catch(e){}j=document.createElement("div"),e(j,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),A.forEach((t=>{!function(t,n){const s=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),d={position:"absolute",width:"100px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:`${x}(safe-area-inset-${n})`};e(s,d),e(i,d),e(a,{transition:"0s",animation:"none",width:"400px",height:"400px"}),e(l,{transition:"0s",animation:"none",width:"250%",height:"250%"}),s.appendChild(a),i.appendChild(l),t.appendChild(s),t.appendChild(i),o((()=>{s.scrollTop=i.scrollTop=1e4;let e=s.scrollTop,t=i.scrollTop;function o(){this.scrollTop!==(this===s?e:t)&&(s.scrollTop=i.scrollTop=1e4,e=s.scrollTop,t=i.scrollTop,function(e){I.length||setTimeout((()=>{const e={};I.forEach((t=>{e[t]=T[t]})),I.length=0,B.forEach((t=>{t(e)}))}),0),I.push(e)}(n))}s.addEventListener("scroll",o,r),i.addEventListener("scroll",o,r)}));const p=getComputedStyle(s);Object.defineProperty(T,n,{configurable:!0,get:()=>parseFloat(p.paddingBottom)})}(j,t)})),document.body.appendChild(j),o(),k=!0}function R(e){return k||C(),T[e]}const I=[],B=[],M={get support(){return 0!=("string"==typeof x?x:P()).length},get top(){return R("top")},get left(){return R("left")},get right(){return R("right")},get bottom(){return R("bottom")},onChange:function(e){P()&&(k||C(),"function"==typeof e&&B.push(e))},offChange:function(e){const t=B.indexOf(e);t>=0&&B.splice(t,1)}},O=M,q=["top","left","right","bottom"];let N=!1;const H=()=>(N||(()=>{const e={top:O.top,left:O.left,right:O.right,bottom:O.bottom};q.forEach((t=>document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`)))})(),m("safeArea",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.desktop}).then((({safeAreaInsets:e})=>(q.forEach((t=>document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`))),N=!0,{safeAreaInsets:e}))).catch((()=>({safeAreaInsets:{top:O.top,left:O.left,right:O.right,bottom:O.bottom}})))),U=()=>{O.onChange((e=>{if(!N){const t=Object.keys(e);Array.isArray(t)&&t.length&&t.forEach((t=>{document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`)}))}})),H()};document.body?U():window.addEventListener("load",(()=>{U()}));const $={open:e=>m("openFile",{id:e},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>({success:e}))).catch((()=>({success:!1}))),showMediaSelector:e=>n(o?.fs?.showMediaSelector?.(e)),showFileSelector:e=>n(o?.fs?.showFileSelector?.(e)),dumpDir:e=>n(o?.fs?.dumpDir?.(e)),readAsBase64:e=>n(o?.fs?.readAsBase64?.(e)),stat:e=>n(o?.fs?.stat?.(e)),save:e=>n(o?.fs?.save?.(e))};function F(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}class D{type;config;constructor(e,t){this.type=e,this.config=t,this.id=F()}id;present(){if(!this.config)return r("Parameter error");if(this.config.clickOverlayToClose??(this.config.clickOverlayToClose=!1),"bottom_sheet_btn"===this.type){const e=this.config;e.multiple??(e.multiple=!1),e.content.forEach((e=>{e?.label&&(e.labelColor??(e.labelColor="#0077fa"),e.labelBgColor??(e.labelBgColor="#eaf5ff"))}))}return n(o?.dialog?.present?.(this.id,this.type,this.config))}update(e){return n(o?.dialog?.update?.(this.id,this.type,e))}dismiss(){return n(o?.dialog?.dismiss?.(this.id))}addEventListener(e,t){o?.dialog?.addEventListener?o.dialog?.addEventListener(e,t):console.error("dialog addEventListener not supported.")}onAction(e,t){o?.dialog?.addEventListener?o.dialog?.addEventListener(e,t):console.error("dialog addEventListener not supported.")}removeEventListener(e,t){o?.dialog?.removeEventListener?o.dialog?.removeEventListener(e,t):console.error("dialog removeEventListener not supported.")}removeAllListeners(e){o?.dialog?.removeAllListeners?o.dialog?.removeAllListeners(e):console.error("dialog removeAllListeners not supported.")}}const z={create:(e,t)=>new D(e,t)},J=new class{present(e,t={}){return t?.duration??(t.duration=3e3),t?.position??(t.position="top"),n(o?.toast?.present?.(e,{...t,actions:t.actions?[t.actions]:void 0}))}addEventListener(e,t){o?.toast?.addEventListener?o.toast?.addEventListener(e,t):console.error("toast addEventListener not supported.")}removeEventListener(e,t){o?.toast?.removeEventListener?o.toast?.removeEventListener(e,t):console.error("toast removeEventListener not supported.")}removeAllListeners(e){o?.toast?.removeAllListeners?o.toast?.removeAllListeners(e):console.error("toast removeAllListeners not supported.")}},V=window.__edger__;function G(e,t,o={}){return V?.notice?(o??(o={}),o.singleton??(o.singleton=!0),o.duration??(o.duration=3e3),o.closable??(o.closable=!1),V.notice.present(t,e,o)):r()}const K=new class{info(e,t){return G("info",e,t)}success(e,t){return G("success",e,t)}warning(e,t){return G("warning",e,t)}error(e,t){return G("error",e,t)}dismiss(e){return V?.notify?V.notice.dismiss(e):Promise.reject(Error("Not Support"))}};class X{duration;constructor(e=0){this.duration=e,this.id=F()}id;present(){return n(o?.loading?.present?.(this.id,this.duration))}dismiss(){return n(o?.loading?.dismiss?.(this.id))}}const W={create:e=>new X(e)},Y=new class{constructor(){}address(e,t){return n(o?.geo?.address?.(e,t))}},Q=e=>o?.haptics&&o.haptics[e]?o.haptics[e]():r(),Z=()=>Q("impactMedium"),ee=()=>Q("impactHeavy"),te=()=>Q("impactLight"),oe=()=>Q("impactTick"),re=()=>Q("vibrate");["start","pause","resume","cancel","retry","resume","done","error","progress"].forEach((e=>{o?.on(`job_${e}`,(e=>{p(e)}))}));const ne=(e,t)=>{o?.job?.addEventListener?o.job?.addEventListener(e,t):console.error("job addEventListener not supported.")},se={create:(e,t,r)=>n(o?.job?.create?.(e,t,r)),get:e=>n(o?.job?.get?.(e)),cancel:(e,t)=>n(o?.job?.cancel?.(e,t)),pause:(e,t)=>n(o?.job?.pause?.(e,t)),resume:(e,t,r)=>n(o?.job?.resume?.(e,t,r)),retry:(e,t,r)=>n(o?.job?.retry?.(e,t,r)),errorSummary:()=>n(o?.job?.errorSummary?.()),updateStatus:(e,t)=>n(o?.job?.updateStatus?.(e,t)),history:{query:(e,t)=>n(o?.job?.history?.query?.(e,t)),count:e=>n(o?.job?.history?.count?.(e)),delete:e=>n(o?.job?.history?.delete?.(e)),deleteAll:e=>n(o?.job?.history?.deleteAll?.(e))},onAction:ne,addEventListener:ne,removeEventListener:(e,t)=>{o?.job?.removeEventListener?o.job?.removeEventListener(e,t):console.error("job removeEventListener not supported.")},removeAllListeners:e=>{o?.job?.removeAllListeners?o.job?.removeAllListeners(e):console.error("job removeAllListeners not supported.")}};o?.on("event_album_change",(e=>{p(e)}));const ie=(e,t)=>{o?.album?.addEventListener?o.album?.addEventListener(e,t):console.error("album addEventListener not supported.")},ae={query:()=>n(o?.album?.query?.()),dir:e=>n(o?.album?.dir?.(e)),save:(e,t={})=>n(o?.album?.save?.({...e,headers:t})),onAction:ie,addEventListener:ie,removeEventListener:(e,t)=>{o?.album?.removeEventListener?o.album?.removeEventListener(e,t):console.error("album removeEventListener not supported.")},removeAllListeners:e=>{o?.album?.removeAllListeners?o.album?.removeAllListeners(e):console.error("album removeAllListeners not supported.")}};class le{constructor(e){this.id=F(),this.options=e}id;options;play(e){const t={...this.options,position:this.options?.position,toolbar:this.options?.toolbarItems,toolbarItems:void 0,sourceFrame:e};return n(o?.media?.play?.(this.id,t))}toolbar(e){return n(o?.media?.updateToolbar?.(this.id,e)).then((e=>(e?.playerId&&delete e.playerId,e)))}update(e,t,r=!0,s=!0){const i={playerId:this.id,index:e,file:t,loading:r,showError:s};return n(o?.media?.update?.(i))}layout(e){return n(o?.media?.updateLayout?.(this.id,0,e))}append(e,t){return n(o?.media?.append?.(this.id,{direction:t,files:e}))}drop(e){return n(o?.media?.drop?.(this.id,e))}close(){return n(o?.media?.close?.(this.id))}setMode(e){const t={...e,playerId:this.id};return n(o?.media?.setMode?.(t))}setCasterControls(e){const t={...e,playerId:this.id};return n(o?.media?.setCasterControls?.(t))}scrollTo(e){const t={...e,playerId:this.id};return n(o?.media?.scrollTo?.(t))}updateAttributes(e){const t={...e,playerId:this.id};return n(o?.media?.updateAttributes?.(t))}addEventListener=(e,t)=>{o?.media?.addEventListener?o.media?.addEventListener(e,t):console.error("media addEventListener not supported.")};onAction=this.addEventListener;removeEventListener=(e,t)=>{o?.media?.removeEventListener?o.media?.removeEventListener(e,t):console.error("media removeEventListener not supported.")};removeAllListeners=e=>{o?.media?.removeAllListeners?o.media?.removeAllListeners(e):console.error("media removeAllListeners not supported.")}}const de={player:e=>new le(e)},pe=window.__edger__,ue={init:()=>Promise.resolve(),ready:()=>Promise.resolve(),reload:()=>Promise.resolve()},me=pe?pe.lifecycle:ue,ce=(e,t)=>{o?.service?.addEventListener?o.service?.addEventListener(e,t):console.error("service addEventListener not supported.")},ve={create:e=>n(o?.service?.create?.(e)),run:e=>n(o?.service?.run?.(e)),pause:e=>n(o?.service?.pause?.(e)),resume:e=>n(o?.service?.resume?.(e)),query:()=>n(o?.service?.query?.()),remove:e=>n(o?.service?.delete?.(e)),status:e=>n(o?.service?.status?.(e)),onAction:ce,addEventListener:ce,removeEventListener:(e,t)=>{o?.service?.removeEventListener?o.service?.removeEventListener(e,t):console.error("service removeEventListener not supported.")},removeAllListeners:e=>{o?.service?.removeAllListeners?o.service?.removeAllListeners(e):console.error("service removeAllListeners not supported.")}},ge=(e,t)=>{o?.ssdp?.addEventListener?o.ssdp?.addEventListener(e,t):console.error("ssdp addEventListener not supported.")},he={init:e=>n(o?.ssdp?.init?.(e)),start:()=>n(o?.ssdp?.start?.()),stop:()=>n(o?.ssdp?.stop?.()),destroy:()=>n(o?.ssdp?.destroy?.()),getStatus:()=>n(o?.ssdp?.getStatus?.()),onAction:ge,addEventListener:ge,removeEventListener:(e,t)=>{o?.ssdp?.removeEventListener?o.ssdp?.removeEventListener(e,t):console.error("ssdp removeEventListener not supported.")},removeAllListeners:e=>{o?.ssdp?.removeAllListeners?o.ssdp?.removeAllListeners(e):console.error("ssdp removeAllListeners not supported.")}},ye=(e,t)=>{o?.caster?.addEventListener?o.caster?.addEventListener(e,t):console.error("caster addEventListener not supported.")},fe={start:e=>n(o?.caster?.start?.(e)),stop:()=>n(o?.caster?.stop?.()),getStatus:()=>n(o?.caster?.getStatus?.()),onAction:ye,addEventListener:ye,removeEventListener:(e,t)=>{o?.caster?.removeEventListener?o.caster?.removeEventListener(e,t):console.error("caster removeEventListener not supported.")},removeAllListeners:e=>{o?.caster?.removeAllListeners?o.caster?.removeAllListeners(e):console.error("caster removeAllListeners not supported.")}},be={name:"keepAlive.start"},Le={name:"keepAlive.update"},Ee={name:"keepAlive.stop"},_e={name:"media.player",_name:"media.play",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},position:{key:!0,value:!0},positionFileId:!0,toolbarItems:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},mode:!0,_files:"info.files",_position:"info.position",_toolbarItems:"info.toolbarItems",_mode:"info.mode"},event:{change:!0,close:!0,status:!0,action:!0,casterControls:!0}},we={name:"media.player.play",_name:"media.play",input:{offsetX:!0,offsetY:!0,width:!0,height:!0}},Se={name:"media.player.toolbar",_name:"media.updateToolbar",input:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},output:{code:!0,id:!0}},Ae={name:"media.player.update",_name:"media.update",input:{index:!0,file:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},loading:!0,showError:!0}},Te={name:"media.player.layout",_name:"media.updateLayout",input:{title:!0,subtitle:!0,alignment:!0,animation:{mode:!0,config:{duration:!0,repeatCount:!0}}}},ke={name:"media.player.append",_name:"media.append",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},direction:!0}},xe={name:"media.player.drop",_name:"media.drop",input:{id:!0}},je={name:"media.player.close",_name:"media.close"},Pe={name:"media.player.setMode",_name:"media.setMode",input:{mode:!0}},Ce={name:"media.player.setCasterControls",_name:"media.setCasterControls",input:{status:!0,duration:!0,progress:!0,playerId:!0}},Re={name:"media.player.scrollTo",_name:"media.scrollTo",input:{positionFileId:!0}},Ie={name:"media.player.updateAttributes",_name:"media.updateAttributes",input:{attributes:{key:!0,value:!0}}},Be={name:"mobile.qrscan",_name:"system.qrscan"},Me={name:"mobile.contacts",_name:"system.contacts"},Oe={name:"mobile.getVolume",_name:"system.getVolume"},qe={name:"mobile.onAction",_name:"system.addEventListener"},Ne={name:"mobile.addEventListener",_name:"system.addEventListener"},He={name:"mobile.removeEventListener",_name:"system.removeEventListener"},Ue={name:"mobile.removeAllListeners",_name:"system.removeAllListeners"},$e={name:"multiplePanel",event:{change:!0,close:!0,status:!0,action:!0}},Fe={name:"multiplePanel.open",input:{maxSelectedNum:!0,positionFileId:!0,files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0},groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},De={name:"multiplePanel.close"},ze={name:"multiplePanel.append",input:{files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0}}},Je={name:"multiplePanel.get",output:{ids:!0}},Ve={name:"multiplePanel.updateGroups",input:{groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},Ge={name:"permissionTexts.register",input:{params:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}},output:{success:!0}},Ke={name:"permissionTexts.unregister",input:{params:{type:!0,code:!0}},output:{success:!0}},Xe={name:"permissionTexts.query",output:{result:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}}},We={[_e.name]:_e,[we.name]:we,[Se.name]:Se,[Ae.name]:Ae,[Te.name]:Te,[ke.name]:ke,[xe.name]:xe,[je.name]:je,[Pe.name]:Pe,[Ce.name]:Ce,[Re.name]:Re,[Ie.name]:Ie,[Fe.name]:Fe,[De.name]:De,[ze.name]:ze,[Je.name]:Je,[Ve.name]:Ve,[$e.name]:$e,[Ge.name]:Ge,[Ke.name]:Ke,[Xe.name]:Xe,[Be.name]:Be,[Me.name]:Me,[Oe.name]:Oe,[qe.name]:qe,[Ne.name]:Ne,[He.name]:He,[Ue.name]:Ue,[be.name]:be,[Le.name]:Le,[Ee.name]:Ee};function Ye(e,t){try{if(!t)throw new Error("caps is null");const o=e.split(".");let r=t;for(;o.length;)if(r=r[o.shift()],void 0===r)return!1;return!0}catch(e){return console.error("checkKeyExist",e),!1}}const Qe={open:function(e){return n(o?.multiplePanel?.open?.(e))},close:function(){return n(o?.multiplePanel?.close?.())},get:function(){return n(o?.multiplePanel?.get?.())},append:function(e){return n(o?.multiplePanel?.append?.(e))},updateGroups:function(e){return n(o?.multiplePanel?.updateGroups?.(e))},addEventListener:(e,t)=>{o?.multiplePanel?.addEventListener?o.multiplePanel?.addEventListener(e,t):console.error("multiplePanel addEventListener not supported.")},removeEventListener:(e,t)=>{o?.multiplePanel?.removeEventListener?o.multiplePanel?.removeEventListener(e,t):console.error("multiplePanel removeEventListener not supported.")},removeAllListeners:e=>{o?.multiplePanel?.removeAllListeners?o.multiplePanel?.removeAllListeners(e):console.error("multiplePanel removeAllListeners not supported.")}},Ze=new class{start(){return n(o?.keepAlive?.start?.())}update(){return n(o?.keepAlive?.update?.())}stop(){return n(o?.keepAlive?.stop?.())}},et={open:(e,t)=>m("open",{target:e,letter:t},{deliverStrategy:i.desktop,ignoreResponse:!1,timeout:12e4}),appworld:e=>m("openAppInWorld",{target:{id:e}},{ignoreResponse:!1,timeout:12e4,deliverStrategy:i.desktop}),letter:()=>m("letter",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.desktop}),browser:e=>m("openInBrowser",{url:e},{deliverStrategy:i.desktop,ignoreResponse:!1}),title:e=>(window.__title=e,m("title",{title:e},{deliverStrategy:i.desktop,ignoreResponse:!1,timeout:5e3})),layout:()=>{const e=window.__edger__;return n(e?.app?.layout?.())},callThirdPartyApp:e=>{const t=window.__edger__;return n(t?.app?.callThirdPartyApp?.(e))}},tt={request:e=>m("reqPerms",e,{ignoreResponse:!1,timeout:12e4,deliverStrategy:i.desktop}),fetch:e=>m("permission",{data:e||null},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.desktop})},ot={download:(e,t,o)=>m("downloadFile",{uri:e,options:t,headers:o},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>{const{id:t,status:o,path:r}=e;return{id:t,status:o,path:r}})),abort:e=>m("downloadAbort",{id:e},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>({success:e}))).catch((()=>({success:!1}))),state:e=>m("downloadState",{id:e},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>(delete e.packageName,{...e}))),retry:e=>m("downloadFile",{id:e},{deliverStrategy:i.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>{const{id:t,status:o}=e;return{id:t,status:o}}))},rt={state:()=>m("orientation",{},{deliverStrategy:i.preferTop,ignoreResponse:!1}),lock:e=>m("setOrientation",{type:"lock",orientation:e},{deliverStrategy:i.preferTop,ignoreResponse:!1}),unlock:()=>m("setOrientation",{type:"unlock"},{deliverStrategy:i.preferTop,ignoreResponse:!1})},nt={pay:e=>m("payRequest",e,{deliverStrategy:i.desktop,ignoreResponse:!1,timeout:12e4})},st={verify:()=>m("verifySecurity",null,{deliverStrategy:i.desktop,ignoreResponse:!1,timeout:12e4})},it={_on:d,_off:function(e){const t=e;return this.removeAllListeners(t)},_emit:p,_cmd:m,onAction:c,addEventListener:function(e,t){if("function"!=typeof t)throw new TypeError("listener must be a function");const o=l[e];return o&&(o.push(t),m("__edgeros_register_event__",{action:e},{deliverStrategy:i.desktop,ignoreResponse:!0})),this},removeEventListener:function(e,t){if("function"!=typeof t)throw new TypeError("listener must be a function");return l[e]&&(l[e]=l[e].filter((e=>e!==t))),this},removeAllListeners:function(e){return e?l[e]&&(l[e]=[]):Object.keys(l).forEach((e=>{l[e]&&(l[e]=[])})),this},user:()=>m("user",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.desktop}),avoidKeyboardOverlay:(e="#app",t=".van-dialog")=>window.addEventListener("message",(o=>{if("keyboardHeight"===o.data.cmd){let r=0,n=document.querySelector(e);const s=document.documentElement.clientHeight||document.body.clientHeight,a=document.activeElement;let l=document.activeElement;const d=+o.data.payload.keyboardHeight,u=document.querySelectorAll(t),m=Array.from(u).filter((e=>"none"!==e.style.display))[0],c=m&&"none"!==m.style.display;if(c&&(n=m,l=m,r=l.getBoundingClientRect().top),n.style.transition||(n.style.transition="margin-top .3s ease-in-out"),d||(y.height=0,y.activeElement.el=null,y.activeElement.originToBottomHeight=0,n.style.marginTop="0px"),d>0&&a&&("INPUT"===a.tagName.toUpperCase()||"TEXTAREA"===a.tagName.toUpperCase())){let e=!1,t=s-l.getBoundingClientRect().bottom;if(y.height){const o=y.activeElement.originToBottomHeight;if(o){let r=0;try{r=parseFloat(getComputedStyle(n).marginTop.replace(/[px ]/g,""))}catch(e){console.error("计算keyboard marginTop出错",e)}let i=s-a.getBoundingClientRect().bottom+r,l=0,d=40;y.activeElement.el&&(d=10,l=s-y.activeElement.el.getBoundingClientRect().bottom+r-y.activeElement.originToBottomHeight),i-=l,e=Math.abs(i-o)>d,t=e?i:o}}if(!e&&d<=y.height&&y.height-d<150)return;if(e||t<d){y.activeElement.el=a,y.activeElement.originToBottomHeight=t,y.height=d;let e=t-d;r>0&&(e=r-Math.abs(e)>25?e:25-r),e>=0&&(e=0),n.style.marginTop=e+"px",c||p({cmd:"switchStatusBar",payload:"hide"},i.onlyTop)}}else n.style.marginTop="0px",u.length&&Array.from(u).forEach((e=>e.style.marginTop="0px")),p({cmd:"switchStatusBar",payload:"show"},i.onlyTop)}})),audio:s,app:et,notify:K,mobile:g,permission:tt,permissionTexts:h,payment:nt,apps:(e,t=!1)=>m("apps",{appids:e,ico:t},{deliverStrategy:i.desktop,ignoreResponse:!1}),orientation:rt,network:()=>m("network",{},{ignoreResponse:!1,deliverStrategy:i.preferTop}),language:()=>m("language",{},{deliverStrategy:i.desktop,ignoreResponse:!1}),version:()=>m("version",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.desktop}),token:()=>m("token",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.desktop}),enableHistoryNavigation:()=>{window.sessionStorage.getItem("entryPath")||window.sessionStorage.setItem("entryPath",window.location.href),c("swipe",(function(e){"left"!==e.direction&&"right"!==e.direction||(window.sessionStorage.getItem("entryPath")!==window.location.href?window.history.back():p({cmd:"minEap"},3))}))},theme:()=>m("theme",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.preferTop}),env:()=>m("env",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.preferTop}).then((e=>{const t=e;return"mobile"===t.env&&(t.env="edgerapp"),t})),deviceInfo:()=>m("deviceInfo",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:i.preferTop}).then((e=>e)),layout:{safeArea:H},downloadTask:ot,filesystem:$,fs:$,loading:W,dialog:z,toast:J,geo:Y,album:ae,job:se,security:st,router:S,haptics:t,media:de,lifecycle:me,service:ve,ssdp:he,caster:fe,canIUse:function(e){return function(e,t){try{const o=We[e.name];if(!o)return!1;let r=e.name;if("_name"in o&&(r=o._name),!t?.canIUse({name:r}))return!1;if(e.input){if(!Ye(e.input,o.input))return!1;const n=function(e,t){try{if(!t)throw new Error("schema is null");const o=e.split(".");let r=t,n=[];for(;o.length;){const e=o.shift();`_${e}`in r?n.push(r[`_${e}`]):n.push(e),r=r[e]}return n.join(".")}catch(e){return console.error("mapToInternalSdkInput",e),""}}(e.input,o.input);if(!n||!t?.canIUse({name:r,input:n}))return!1}if(e.output&&!Ye(e.output,o.output))return!1;if(e.event){if(!o.event?.[e.event])return!1;if(!t?.canIUse({name:r,event:e.event}))return!1}return!0}catch(e){return console.error("schema format",e),!1}}(e,o)},multiplePanel:Qe,keepAlive:Ze};((e=10)=>{setInterval((()=>{m("ping",{},{ignoreResponse:!0,timeout:5e3,deliverStrategy:i.desktop})}),1e3*e)})(30),m("__edgeros_register__",{},{deliverStrategy:i.desktop,ignoreResponse:!0}),m("__edgeros_register__",{},{deliverStrategy:i.onlyTop,ignoreResponse:!0}),o?.setHeaders?o.setHeaders({version:"1.1.8"}):r(),window.edger=it})();